# Novi é¡¹ç›®æ¦‚è§ˆæ–‡æ¡£

## ğŸ“– é¡¹ç›®ç®€ä»‹

**Noviï¼ˆæŒšå‹ï¼‰** æ˜¯ä¸€ä¸ªåŸºäº **Spring Boot 3** å’Œ **Spring AI** æ„å»ºçš„æ™ºèƒ½å¯¹è¯åç«¯ç³»ç»Ÿã€‚è¯¥é¡¹ç›®æ—¨åœ¨é€šè¿‡é•¿æœŸè®°å¿†å’Œä¸ªæ€§åŒ–åå¥½ï¼Œä¸ºç”¨æˆ·æä¾›å…·æœ‰è¿è´¯æ€§ã€åŒç†å¿ƒå’Œç‹¬ç‰¹äººæ ¼çš„ AI ä¼´ä¾£ä½“éªŒã€‚

**é¡¹ç›®æ„¿æ™¯**ï¼šè®© AI ä¸ä»…ä»…æ˜¯å·¥å…·ï¼Œæ›´æ˜¯ç‹¬ä¸€æ— äºŒçš„æŒšå‹ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯åˆ†ç±» | ä½¿ç”¨æŠ€æœ¯ | ç‰ˆæœ¬ |
|---------|---------|------|
| **æ ¸å¿ƒæ¡†æ¶** | Spring Boot | 3.5.7 |
| **Javaç‰ˆæœ¬** | Java | 21 |
| **AIæ¡†æ¶** | Spring AI | 1.0.3 |
| **æ•°æ®åº“** | MySQL | 8.0+ |
| **ORMæ¡†æ¶** | MyBatis-Plus | 3.5.7 |
| **å®‰å…¨è®¤è¯** | Spring Security + JWT | - |
| **ç¯å¢ƒé…ç½®** | Spring Dotenv | 4.0.0 |
| **æ„å»ºå·¥å…·** | Maven | - |

## âœ¨ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·ç®¡ç†æ¨¡å—
- ç”¨æˆ·è´¦å·æ³¨å†Œä¸ç™»å½•
- JWT æ— çŠ¶æ€è®¤è¯
- å¯†ç åŠ å¯†ï¼ˆBCryptï¼‰
- ç”¨æˆ·åå¥½é…ç½®ç®¡ç†

### 2. AI èŠå¤©æ¨¡å—
- **åŒæ¨¡å¼å“åº”**ï¼š
  - é˜»å¡å¼è°ƒç”¨ï¼šä¸€æ¬¡æ€§è¿”å›å®Œæ•´ç»“æœ
  - æµå¼å“åº”ï¼ˆSSEï¼‰ï¼šå®æ—¶æ¨é€ï¼Œæ‰“å­—æœºæ•ˆæœ
- **ä¸Šä¸‹æ–‡è®°å¿†**ï¼šåŸºäºæ•°æ®åº“çš„æŒä¹…åŒ–èŠå¤©è®°å¿†
- **å¤šè½®å¯¹è¯æ”¯æŒ**ï¼šAI èƒ½è®°ä½ä¹‹å‰çš„èŠå¤©å†…å®¹

### 3. AI æ¨¡å‹é…ç½®æ¨¡å—
- æ”¯æŒå¤šä¸ª AI æ¨¡å‹é…ç½®ç®¡ç†
- åŠ¨æ€æ¨¡å‹åˆ‡æ¢ï¼ˆçƒ­åˆ‡æ¢ï¼‰
- æ¨¡å‹é…ç½®çš„å¢åˆ æ”¹æŸ¥
- å½“å‰æ¿€æ´»æ¨¡å‹ç®¡ç†

### 4. AI æç¤ºè¯ç®¡ç†æ¨¡å—
- ç³»ç»Ÿæç¤ºè¯é…ç½®
- AI æ€§æ ¼é…ç½®ï¼ˆå¦‚æ¯’èˆŒã€æ¸©æŸ”ç­‰ï¼‰
- è¯­æ°”é£æ ¼é…ç½®
- åŠ¨æ€æç¤ºè¯ç»„è£…

### 5. ä¼šè¯ç®¡ç†æ¨¡å—
- ä¼šè¯è‡ªåŠ¨åˆ›å»ºä¸è¯†åˆ«
- ä¼šè¯æ ‡é¢˜è‡ªåŠ¨ç”Ÿæˆ
- ä¼šè¯å†å²æŸ¥è¯¢
- ä¼šè¯è½¯åˆ é™¤

### 6. é—®é¢˜ç”Ÿæˆæ¨¡å—
- æ”¯æŒå¤šç§‘ç›®é¢˜ç›®ç”Ÿæˆ
- æ”¯æŒå¤šç§é¢˜å‹ï¼ˆé€‰æ‹©é¢˜ã€å¡«ç©ºé¢˜ã€é˜…è¯»ç†è§£ç­‰ï¼‰
- åŸºäºç¤ºä¾‹é¢˜ç›®çš„ AI ç”Ÿæˆ
- é¢˜ç›®ç”Ÿæˆå†å²è®°å½•

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### é¡¹ç›®ç›®å½•ç»“æ„

```
Novi
â”œâ”€â”€ novi-common          # å…¬å…±æ¨¡å— (Utils, DTOs, Exceptions)
â”œâ”€â”€ novi-user            # ç”¨æˆ·æ¨¡å— (User Service & Mapper)
â”œâ”€â”€ novi-ai-config       # AIé…ç½®æ¨¡å— (Model & Prompt Config)
â”œâ”€â”€ novi-chat            # èŠå¤©æ ¸å¿ƒæ¨¡å— (Chat Service & Memory)
â”œâ”€â”€ novi-question        # å‡ºé¢˜æ¨¡å— (Question Generation)
â”œâ”€â”€ novi-view            # å®¢æˆ·ç«¯æ¨¡å— (Client & Legacy Web, Java Clients)
â”œâ”€â”€ novi-web             # Webå¯åŠ¨æ¨¡å— (Controllers & Application)
â”œâ”€â”€ novi-vue-app         # å‰ç«¯æ¨¡å— (Modern Vue 3 Client)
â””â”€â”€ sql                  # æ•°æ®åº“è„šæœ¬
```

### æ§åˆ¶å™¨å±‚ï¼ˆControllerï¼‰

| æ§åˆ¶å™¨ | è·¯å¾„ | åŠŸèƒ½æè¿° |
|--------|------|---------|
| `ChatController` | `/api/v1/chat` | AI èŠå¤©åŠŸèƒ½ï¼ˆé˜»å¡å¼å’Œæµå¼ï¼‰ |
| `ChatSessionController` | `/api/v1/sessions` | ä¼šè¯ç®¡ç† |
| `UserAccountController` | `/api/v1/users` | ç”¨æˆ·è´¦å·ç®¡ç† |
| `UserPreferenceController` | `/api/v1/preferences` | ç”¨æˆ·åå¥½é…ç½® |
| `AiModelConfigController` | `/api/model/config` | AI æ¨¡å‹é…ç½®ç®¡ç† |
| `AiPromptConfigController` | `/api/prompt/config` | AI æç¤ºè¯é…ç½®ç®¡ç† |
| `QuestionGenerationController` | `/api/v1/questions` | AI å‡ºé¢˜åŠŸèƒ½ |
| `PaperGenerationController` | `/api/v1/papers` | å¥—å·ç”ŸæˆåŠŸèƒ½ |
| `QuestionCategoryController` | `/api/question/categories` | é¢˜ç›®åˆ†ç±»ç®¡ç† |

### æœåŠ¡å±‚ï¼ˆServiceï¼‰

| æœåŠ¡ | åŠŸèƒ½æè¿° |
|------|---------|
| `ChatService` | èŠå¤©æµç¨‹ç¼–æ’ã€æ¶ˆæ¯å¤„ç† |
| `ChatSessionService` | ä¼šè¯åˆ›å»ºã€æŸ¥è¯¢ã€åˆ é™¤ |
| `UserAccountService` | ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€è®¤è¯ |
| `UserPreferenceService` | ç”¨æˆ·åå¥½ç®¡ç† |
| `AiModelConfigService` | AI æ¨¡å‹é…ç½®ç®¡ç† |
| `AiPromptConfigService` | æç¤ºè¯é…ç½®ç®¡ç† |
| `QuestionGenerationService` | é—®é¢˜ç”ŸæˆæœåŠ¡ |

### æ•°æ®è®¿é—®å±‚ï¼ˆMapperï¼‰

| Mapper | å¯¹åº”è¡¨ |
|--------|--------|
| `UserAccountMapper` | `user_account` |
| `ChatSessionMapper` | `chat_session` |
| `ChatMemoryMapper` | `chat_message` |
| `UserMemoryMapper` | `user_memory` |
| `AiModelConfigMapper` | `ai_model_config` |
| `AiPromptConfigMapper` | `ai_prompt_config` |
| `QuestionExampleMapper` | `question_example` |
| `QuestionGenerationRecordMapper` | `question_generation_record` |
| `PaperGenerationRecordMapper` | `paper_generation_record` |
| `PaperQuestionDetailMapper` | `paper_question_detail` |
| `QuestionCategoryMapper` | `question_category` |

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨

| è¡¨å | åŠŸèƒ½æè¿° |
|------|---------|
| `user_account` | ç”¨æˆ·è´¦å·ä¿¡æ¯ |
| `chat_session` | èŠå¤©ä¼šè¯å…ƒæ•°æ® |
| `chat_message` | èŠå¤©æ¶ˆæ¯å†…å®¹ |
| `user_memory` | ç”¨æˆ·ç”»åƒ/äº‹å®è®°å¿† |
| `ai_model_config` | AI æ¨¡å‹é…ç½® |
| `ai_prompt_config` | AI æç¤ºè¯é…ç½® |
| `ai_prompt_context_config` | æç¤ºè¯ä¸Šä¸‹æ–‡é…ç½® |
| `question_example` | é¢˜ç›®ç¤ºä¾‹åº“ |
| `question_generation_record` | é¢˜ç›®ç”Ÿæˆå†å² |
| `question_category` | é¢˜ç›®åˆ†ç±»ä¿¡æ¯ |
| `paper_generation_record` | å¥—å·ç”Ÿæˆè®°å½• |
| `paper_question_detail` | å¥—å·é¢˜ç›®æ˜ç»† |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- JDK 21+
- MySQL 8.0+
- Maven 3.8+

### é…ç½®æ­¥éª¤

1. **åˆ›å»ºæ•°æ®åº“**
   ```sql
   CREATE DATABASE novi CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

2. **æ‰§è¡Œ SQL è„šæœ¬**
   
   æŒ‰é¡ºåºæ‰§è¡Œ `src/main/resources/static/` ä¸‹çš„ SQL æ–‡ä»¶ï¼š
   - `user_account.sql`
   - `chat_session.sql`
   - `chat_message.sql`
   - `user_memory.sql`
   - `ai_model_config.sql`
   - `ai_prompt_config.sql`
   - `question_category.sql`
   - `question_example.sql`
   - `question_generation_record.sql`
   - `paper_generation_record.sql`
   - `paper_question_detail.sql`

3. **é…ç½®ç¯å¢ƒå˜é‡**
   
   åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š
   ```env
   SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/novi
   SPRING_DATASOURCE_USERNAME=your_username
   SPRING_DATASOURCE_PASSWORD=your_password
   AI_API_KEY=your_ai_api_key
   ```

4. **å¯åŠ¨é¡¹ç›®**
   ```bash
   mvn spring-boot:run
   ```
   
   æœåŠ¡é»˜è®¤å¯åŠ¨åœ¨ `http://localhost:8080`

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [è®¾è®¡æ€è·¯æ–‡æ¡£](file:///c:/Study/Novi/docs/è®¾è®¡æ€è·¯.md)
- [é‡æ„æŠ¥å‘Š](file:///c:/Study/Novi/docs/é‡æ„æŠ¥å‘Š.md)
- [æ–°å¢éœ€æ±‚è¯´æ˜](file:///c:/Study/Novi/æ–°å¢éœ€æ±‚.md)
- [æ¥å£æ–‡æ¡£ç›®å½•](file:///c:/Study/Novi/docs/æ¥å£æ–‡æ¡£/)

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…

- **ä½œè€…**ï¼šN1etzsch3
- **é¡¹ç›®åç§°**ï¼šNoviï¼ˆæŒšå‹ï¼‰
- **ç‰ˆæœ¬**ï¼š0.0.1-SNAPSHOT
